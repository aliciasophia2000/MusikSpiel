<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Music Card</title>

<style>
  :root{
    --bg: #f3efe6;      /* beige */
    --card: #ffffff;
    --text: #111;
    --muted: #6b6b6b;
    --shadow: 0 18px 60px rgba(0,0,0,.10);
    --radius: 18px;
  }

  body{
    margin:0;
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background: var(--bg);
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
    color: var(--text);
    padding: 22px;
  }

  .card{
    width: min(460px, 92vw);
    background: var(--card);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    padding: 18px;
  }

  h1{
    margin: 2px 0 8px;
    font-size: 22px;
    letter-spacing: -0.02em;
  }

  .sub{
    margin: 0 0 14px;
    color: var(--muted);
    font-size: 13px;
    line-height: 1.35;
  }

  .playerWrap{
    border-radius: 14px;
    overflow:hidden;
    border: 1px solid rgba(0,0,0,.06);
    background:#eee;
  }

  .error{
    margin-top: 12px;
    padding: 12px 14px;
    background:#fff3f3;
    border-radius: 12px;
    font-size: 14px;
    color:#8a1f1f;
  }
</style>
</head>

<body>
  <div class="card">
    <h1>ðŸŽµ Music Card</h1>
    <div class="sub">
      Tippe im Player auf â–¶ï¸Ž. (iPhone blockt Autoplay â€“ daher Play direkt im Frame.)
    </div>

    <div class="playerWrap" id="playerWrap"></div>

    <div id="msg"></div>
  </div>

<script>
  // âœ… Songliste (nur Spotify Track IDs)
  const songs = {
    1: { spotify: "6oHDvarQSp0mf5AD1SyNH0" } // Namika â€“ Lieblingsmensch
    // 2: { spotify: "..." },
  };

  const params = new URLSearchParams(window.location.search);
  const songId = params.get("song");
  const playerWrap = document.getElementById("playerWrap");
  const msg = document.getElementById("msg");

  if(!songId || !songs[songId]){
    msg.innerHTML = `<div class="error">Fehlt <b>?song=1</b> in der URL (oder Song existiert nicht).</div>`;
  } else {
    const trackId = songs[songId].spotify;

    // Autoplay versuchen ist okay, aber du spielst direkt im Frame.
    playerWrap.innerHTML = `
      <iframe
        src="https://open.spotify.com/embed/track/${trackId}?autoplay=1"
        width="100%"
        height="380"
        frameborder="0"
        allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
        loading="lazy">
      </iframe>
    `;
  }
</script>
</body>
</html>